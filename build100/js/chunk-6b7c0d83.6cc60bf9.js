(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b7c0d83"],{"00eb":function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return m}));var s=r("9ab4"),a=r("e4b0"),n=r("2073"),i=r("e1dd"),o=r("0a36"),c=r("1cb6"),h=r("a957"),u=r("c798"),p=r("3c0c");const l=["get","delete","head","options","patch","post","put","trace"];var d;(function(e){e["get"]="get",e["delete"]="delete",e["options"]="options",e["patch"]="patch",e["post"]="post",e["put"]="put"})(d||(d={}));class g extends n["a"]{constructor(e,t){super(e),this.summary="",this.deprecated=!1,this.description="",this.callbackManager=new o["a"],this.parameterManager=new h["a"](p["a"].parameters),this.requestBody=new h["b"](0,p["a"].requestBodies),this.securityManager=new u["a"],this.statusManager=new c["a"](p["a"].responses),this.tagManager=new h["a"](p["a"].tag),this.path=t}get type(){return this.un}toOAPI(e){const t=[this.type].concat(this.path.un.split("/")).join("_").split("{").join("").split("}").join(""),r=this.tagManager.getUNxx(e),s={operationId:t,summary:this.summary,description:this.description,deprecated:this.deprecated,security:this.securityManager.toOAPIArray(e),responses:this.statusManager.toOAPI(e),tags:r};if(this.parameterManager.list.length&&(s.parameters=this.parameterManager.toOAPIArray(e)),this.callbackManager.list.length&&(s.callbacks=this.callbackManager.toOAPI(e)),0===this.requestBody.ui)return s;const a=e.find(this.requestBody);return a&&(s.requestBody=this.requestBody.toOAPIofTarget(a)),s}}Object(s["a"])([a["a"]],g.prototype,"path",void 0);class m extends i["a"]{constructor(e){super(g),this.path=e}make(e){const t=new g(e,this.path);return t}}},"04ff":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var s=r("9ab4"),a=r("e4b0"),n=r("3fe0");class i extends n["a"]{constructor(){super(...arguments),this._ui=0}get allowSetUI(){return!1}get ui(){return this._ui}set ui(e){if(0!==this._ui&&!this.allowSetUI)throw new Error("Cannot change unique identifier");this._ui=e}}Object(s["a"])([a["a"],a["b"]],i.prototype,"_ui",void 0),Object(s["a"])([a["g"]],i.prototype,"ui",null)},"094b":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const s="open-api";class a{constructor(e){this.worker=e}static getOAPIPath(e){return s+"/"+e}static getScriptPath(e){return s+"/script/"+e}static getTemplatePath(e){return s+"/template/"+e}move(e,t,r){return this.worker.move(e,t,r)}read(e,t,r){return this.worker.read(e,t,r)}readOAPI(e,t,r){return this.read(a.getOAPIPath(e),t,r)}saveDTS(){const e="index.d.ts";fetch(e).then(e=>e.blob()).then(e=>e.text()).then(t=>{this.write(a.getOAPIPath(e),t)}).catch(e=>console.log(e))}write(e,t,r){return this.worker.write(e,t,r)}writeOAPI(e,t){return this.write(a.getOAPIPath("openapi.json"),e,t)}writeScript(e,t,r){return this.write(a.getScriptPath(e),t,r)}}},"09dd":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n}));class s{constructor(e,t){this.title=e,this.manager=t,this.item=null,this.keyword=""}}var a;(function(e){e["Enumer"]="Enumer",e["Example"]="Example",e["Flow"]="Flow",e["Header"]="Header",e["Parameter"]="Parameter",e["Path"]="Path",e["Preset"]="Preset",e["Request"]="Request",e["Response"]="Response",e["Schema"]="Schema",e["SecurityScheme"]="SecurityScheme",e["Script"]="Script",e["Server"]="Server",e["ServerVariable"]="ServerVariable",e["Tag"]="Tag",e["Template"]="Template"})(a||(a={}));class n{constructor(){this.map=new Map}bind(e){this.map.set(a.Preset,new s(a.Preset,e.presetManager)),this.map.set(a.Enumer,new s(a.Enumer,e.oapi.enumerManager)),this.map.set(a.Example,new s(a.Example,e.oapi.component.exampleManager)),this.map.set(a.Flow,new s(a.Flow,e.flowManager)),this.map.set(a.Header,new s(a.Header,e.oapi.component.headerManager)),this.map.set(a.Parameter,new s(a.Parameter,e.oapi.component.parameterManager)),this.map.set(a.Path,new s(a.Path,e.oapi.pathManager)),this.map.set(a.Request,new s(a.Request,e.oapi.component.requestBodyManager)),this.map.set(a.Response,new s(a.Response,e.oapi.component.responseManager)),this.map.set(a.Schema,new s(a.Schema,e.oapi.component.schemaManager)),this.map.set(a.SecurityScheme,new s(a.SecurityScheme,e.oapi.component.securitySchemeManager)),this.map.set(a.Script,new s(a.Script,e.scriptManager)),this.map.set(a.Server,new s(a.Server,e.oapi.serverManager)),this.map.set(a.ServerVariable,new s(a.ServerVariable,e.oapi.serverVariableManager)),this.map.set(a.Tag,new s(a.Tag,e.oapi.tagManager)),this.map.set(a.Template,new s(a.Template,e.templateManager))}get(e){const t=this.map.get(e);if(t)return t;throw new Error(`SideBar ${e} not found!`)}}},"0a36":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("2073"),a=r("e1dd"),n=r("a957"),i=r("3c0c");class o extends s["a"]{constructor(){super(...arguments),this.path=new n["b"](0,i["a"].paths)}toOAPI(e){return this.path.toOAPI(e)}}class c extends a["a"]{constructor(){super(o)}}},"1cb6":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var s=r("2073"),a=r("e1dd"),n=r("a957");class i extends s["a"]{constructor(e,t){super(e),this.reference=new n["b"](0,t)}get allowSetUI(){return!0}toOAPI(e){return this.reference.toOAPI(e)}}class o extends a["a"]{constructor(e){super(i),this.targetType=e}add(e){e.ui=0,super.add(e)}make(e){const t=new i(e,this.targetType);return t}}},2073:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("9ab4"),a=r("2ef0"),n=r.n(a),i=r("e4b0"),o=r("04ff");class c extends o["a"]{constructor(e){super(),this._un=e}get camelCase(){return n.a.upperFirst(n.a.camelCase(this.un))}get snakeCase(){return n.a.snakeCase(this.un)}get wavelCase(){return n.a.camelCase(this.un)}get un(){return this._un}set un(e){this.un!==e&&(this._un=e)}toOAPI(e){return super.toOAPI(e)}}Object(s["a"])([i["a"],i["b"]],c.prototype,"_un",void 0),Object(s["a"])([i["g"]],c.prototype,"un",null)},"3b8f":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r("3fe0");class a extends s["a"]{constructor(){super(...arguments),this.value={}}get text(){return JSON.stringify(this.value,void 0,4)}set text(e){this.value=JSON.parse(e)}toOAPI(){return this.value}}},"3c0c":function(e,t,r){"use strict";var s;(function(e){e["encoding"]="encoding",e["enumer"]="enumer",e["examples"]="examples",e["field"]="field",e["flow"]="flow",e["headers"]="headers",e["links"]="links",e["parameters"]="parameters",e["paths"]="paths",e["requestBodies"]="requestBodies",e["responses"]="responses",e["schemas"]="schemas",e["scope"]="scope",e["script"]="script",e["security"]="security",e["tag"]="tag",e["variable"]="variable"})(s||(s={})),t["a"]=s},"3fe0":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("e4b0"),a=r("a5cb");class n extends a["a"]{getDescriptor(e){let t=void 0,r=this;while(r){if(t=Object.getOwnPropertyDescriptor(r,e),t)return t;r=Object.getPrototypeOf(r)}return t}getKeyList(){const e=Object(s["c"])(this.constructor),t=Object(s["d"])(this.constructor),r=t.concat(Object.keys(this)),a=new Set(r);return e.forEach(e=>a.delete(e)),Array.from(a.keys())}getOAPIKeyList(){const e=Object(s["e"])(this.constructor),t=Object(s["f"])(this.constructor),r=t.concat(Object.keys(this)),a=new Set(r);return e.forEach(e=>a.delete(e)),Array.from(a.keys())}load(e){const t=this.getKeyList();t.forEach(t=>this.loadProperty(t,e))}loadProperty(e,t){const r=t[e];if(void 0===r)return;const s=this.getDescriptor(e);if(void 0===s)return;if(s.writable);else if(!s.get||!s.set)return;const n=this[e];n instanceof a["a"]?n.load(r):this[e]=r}toJSON(){const e={};return this.getKeyList().forEach(t=>e[t]=this[t]),e}toOAPI(...e){const t={};return this.getOAPIKeyList().forEach(e=>{const r=this[e];t[e]=r instanceof n?r.toOAPI():r}),t}}},"7b6f":function(e,t,r){"use strict";var s,a=r("ed21"),n=r("dc01");(function(e){e["edit"]="edit",e["error"]="error",e["get"]="get",e["load"]="load",e["move"]="move",e["open"]="open",e["post"]="post",e["read"]="read",e["refresh"]="refresh",e["save"]="save",e["write"]="write"})(s||(s={}));const i=e=>{console.log(`Empty handler ${e.action} ${e.key}`)};class o{constructor(){this.map=new Map,Object.values(s).forEach(e=>{this.make(e)})}make(e){this.map.has(e)||this.map.set(e,new Map)}add(e,t,r=i){const s=this.map.get(e);s&&s.set(t,r)}find(e,t){if(this.map.has(e)){const r=this.map.get(e);if(r)return r.get(t)}}}var c;(function(e){e[e["OK"]=200]="OK",e[e["Error"]=400]="Error"})(c||(c={}));class h{constructor(e){this.manager=e}call(e){"string"===typeof e&&(e=JSON.parse(e)),console.log(`${e.status} ${e.action} ${e.key} ${e.message}`);const t=this.manager.find(e.action,e.key);if(t)try{if(this.isHTTP(e.action)&&e.data.length>0){const r=JSON.parse(e.data);return t(r)}t(e)}catch(r){console.error(r),alert(r)}else{const e="No handler";console.error(e),alert(e)}}isHTTP(e){return e===s.get||e===s.post}error(e,t){console.log(`${e} ${t}`),alert(t)}}class u{constructor(e,t,r){this.action=e,this.key=t,this.data=r}static make(e,t,r){return new u(e,t,r)}}class p{constructor(e,t){this.window=e,this.manager=t}call(e,t,r,s){console.log(`${e} ${t}`),this.manager.add(e,t,s);const a=u.make(e,t,r),n=JSON.stringify(a);this.window.JavaEntry.call(n)}edit(e,t,r){this.call(s.edit,e,t,r)}get(e,t,r){this.call(s.get,e,t,r)}move(e,t,r){this.call(s.move,e,t,r)}open(e,t){this.call(s.open,e,"",t)}post(e,t,r){this.call(s.post,e,t,r)}read(e,t,r){this.call(s.read,e,t,r)}refresh(e){this.call(s.refresh,"","",e)}write(e,t,r){this.call(s.write,e,t,r)}}var l=r("12eb"),d=r("3fe0"),g=r("0a36"),m=r("3b8f"),f=r("95fd"),w=r("e1dd");class M extends f["a"]{constructor(){super(...arguments),this.description="",this.externalValue="",this.summary="",this.value=new m["a"]}}class y extends w["a"]{constructor(){super(M)}}class x extends f["a"]{}class O extends w["a"]{constructor(){super(x)}}var I,b=r("c52f"),P=r("2073"),v=r("a957"),A=r("3c0c");(function(e){e["form"]="multipart/form-data",e["json"]="application/json",e["xml"]="application/xml"})(I||(I={}));class j extends P["a"]{constructor(){super(...arguments),this.example=new m["a"],this.schema=new v["b"](0,A["a"].schemas),this.exampleManager=new v["a"](A["a"].examples)}makeEncoding(e,t){const r=e.getSchemaFieldList(t);if(0===r.length)return;const s=new Map;r.forEach(e=>{e.isObject&&s.set(e.reference.ui,e)});let a=!1;const n={};return e.findManager(A["a"].encoding).list.forEach(t=>{const r=s.get(t.ui);r&&(a=!0,n[r.un]=t.toOAPI(e))}),a?n:void 0}toOAPI(e){const t=this.schema.getTarget(e),r={schema:this.schema.toOAPIofTarget(t)},s=this.makeEncoding(e,t);return s&&(r.encoding=s),this.exampleManager.list.length>0&&(r.examples=this.exampleManager.toOAPI(e)),"{}"===this.example.text||(r.example=this.example.toOAPI()),r}}class k extends w["a"]{constructor(){super(j)}}class T extends f["a"]{constructor(){super(...arguments),this.required=!0,this.description="",this.mediaTypeManager=new k}toOAPI(e){return{content:this.mediaTypeManager.toOAPI(e),description:this.description,required:this.required}}}class S extends w["a"]{constructor(){super(T)}}class E extends f["a"]{constructor(){super(...arguments),this.description="",this.headerManager=new v["a"](A["a"].headers),this.linkManager=new v["a"](A["a"].links),this.mediaTypeManager=new k}toOAPI(e){return{content:this.mediaTypeManager.toOAPI(e),description:this.description,headers:this.headerManager.toOAPI(e)}}}class U extends w["a"]{constructor(){super(E)}}var q=r("e9dc"),N=r("b31b");class _ extends d["a"]{constructor(){super(...arguments),this.callbackManager=new g["a"],this.exampleManager=new y,this.headerManager=new b["b"](b["a"].header),this.linkManager=new O,this.parameterManager=new b["b"](b["a"].path),this.requestBodyManager=new S,this.responseManager=new U,this.schemaManager=new q["a"],this.securitySchemeManager=new N["a"]}toOAPI(e){return{callbacks:this.callbackManager.toOAPI(e),examples:this.exampleManager.toOAPI(e),headers:this.headerManager.toOAPI(e),links:this.linkManager.toOAPI(e),parameters:this.parameterManager.toOAPI(e),requestBodies:this.requestBodyManager.toOAPI(e),responses:this.responseManager.toOAPI(e),schemas:this.schemaManager.toOAPI(e),securitySchemes:this.securitySchemeManager.toOAPI(e)}}}class F extends P["a"]{constructor(){super(...arguments),this.allowReserved=!1,this.contentType="",this.explode=!1,this.headerManager=new v["a"](A["a"].headers),this.style=""}toOAPI(e){const t={contentType:this.contentType};return this.headerManager.list.length&&(t.headers=this.headerManager.toOAPI(e)),this.allowReserved&&(t.allowReserved=this.allowReserved),this.explode&&(t.explode=this.explode),this.style&&(t.style=this.style),t}}class $ extends w["a"]{constructor(){super(F)}}class B extends f["a"]{constructor(){super(...arguments),this.default="",this.valueManager=new w["a"](P["a"])}toOAPI(){return{type:"string",description:this.description,enum:this.valueManager.unxx}}}class R extends w["a"]{constructor(){super(B)}}class C extends d["a"]{constructor(){super(...arguments),this.description="",this.url=""}}class L extends d["a"]{constructor(){super(...arguments),this.name="",this.url="",this.email=""}toOAPI(){return this.email.length?super.toOAPI():{name:this.name,url:this.url}}}class D extends d["a"]{constructor(){super(...arguments),this.name="",this.url=""}}class J extends d["a"]{constructor(){super(...arguments),this.contact=new L,this.description="",this.license=new D,this.termsOfService="",this.title="OpenAPI",this.version="0.1.0"}}var K=r("00eb");class V extends f["a"]{constructor(){super(...arguments),this.summary="",this.operationManager=new K["a"](this),this.parameterManager=new v["a"](A["a"].parameters)}toOAPI(e){const t=this.operationManager.toOAPI(e);return this.parameterManager.list.length&&(t.parameters=this.parameterManager.toOAPIArray(e)),this.description&&(t.description=this.description),this.summary&&(t.summary=this.summary),t}}class z extends w["a"]{constructor(){super(V)}}var H=r("d0af");class W extends P["a"]{constructor(){super(...arguments),this.description=""}}class G extends w["a"]{constructor(){super(W)}}var Q=r("c798");class X extends f["a"]{constructor(){super(...arguments),this.variableManager=new v["a"](A["a"].variable)}get url(){return this.un}set url(e){this.un=e}toOAPI(e){const t={url:this.url,description:this.description};return this.variableManager.list.length&&(t.variables=e.findManager(A["a"].variable).toOAPI(e)),t}}class Y extends w["a"]{constructor(){super(X)}toOAPIArray(e){return this.list.map(t=>t.toOAPI(e))}}class Z extends f["a"]{constructor(){super(...arguments),this.default="",this.valueManager=new w["a"](P["a"])}toOAPI(){const e={default:this.default,description:this.description};return this.valueManager.list.length&&(e.enum=this.valueManager.unxx),e}}class ee extends w["a"]{constructor(){super(Z)}}class te extends f["a"]{constructor(){super(...arguments),this.description=""}toOAPI(){const e={name:this.un};return this.description&&(e.description=this.description),e}}class re extends w["a"]{constructor(){super(te)}}const se="3.0.3";class ae extends d["a"]{constructor(){super(...arguments),this.component=new _,this.encodingManager=new $,this.enumerManager=new R,this.externalDocs=new C,this.fieldManager=new H["a"](!1),this.info=new J,this.pathManager=new z,this.scopeManager=new G,this.securityManager=new Q["a"],this.serverManager=new Y,this.serverVariableManager=new ee,this.tagManager=new re}importSchema(e,t){e.forEach(e=>{const r=this.fieldManager.make(e.un);r.load(e),r.schemaUI=t,this.fieldManager.add(r)})}removeNullReference(e){this.component.schemaManager.list.forEach(t=>{if(t.isTemplate)return;if(0===t.requiredManager.list.length)return;if(0===t.referenceManager.list.length)return void t.requiredManager.clear();const r=new Set(e.getSchemaFieldList(t).map(e=>e.ui));t.requiredManager.list.filter(e=>!1===r.has(e.ui)).forEach(e=>t.requiredManager.remove(e))})}toOAPI(e){return this.removeNullReference(e),{openapi:se,info:this.info.toOAPI(),components:this.component.toOAPI(e),paths:this.pathManager.toOAPI(e),security:this.securityManager.toOAPIArray(e),servers:this.serverManager.toOAPIArray(e),tags:this.tagManager.toOAPIArray(e),externalDocs:this.externalDocs.toOAPI()}}}class ne extends P["a"]{constructor(e,t){super(e),this.type=t}get unPattern(){return this.un}set unPattern(e){this.un=e}}class ie extends w["a"]{constructor(e){super(ne),this.targetType=e}make(e){return new this.type(e,this.targetType)}}class oe extends P["a"]{get allowSetUI(){return!0}}class ce extends w["a"]{constructor(){super(oe)}}class he extends P["a"]{constructor(){super(...arguments),this.script=new v["b"](0,A["a"].script)}get unPattern(){return this.un}set unPattern(e){this.un=e}}class ue extends P["a"]{constructor(){super(...arguments),this.useExisted=!1,this.mtManager=new ce,this.reference=new v["b"](0,A["a"].requestBodies),this.schema=new he("${schema.un}_Request_${operation.un + path.suffix}")}get unPattern(){return this.un}set unPattern(e){this.un=e}}class pe extends P["a"]{constructor(){super(...arguments),this.unPattern="${schema.un}_${operation.un + path.suffix}",this.useExisted=!1,this.mtManager=new ce,this.reference=new v["b"](0,A["a"].responses),this.schema=new he("${schema.un}_Response_${operation.un + path.suffix}")}get allowSetUI(){return!0}}class le extends w["a"]{constructor(){super(pe)}}var de=r("ca51");class ge extends ne{constructor(){super(...arguments),this.oAuthFlowManager=new de["a"],this.scopeManager=new ie(A["a"].scope)}get unPattern(){return this.un}set unPattern(e){this.un=e}}class me extends P["a"]{constructor(){super(...arguments),this.withRequestBody=!1,this.withSecurity=!1,this.parameterManager=new ie(A["a"].parameters),this.requestBody=new ue("${schema.un}_${operation.un + path.suffix}"),this.security=new ge("${schema.un}",A["a"].security),this.statusManager=new le,this.tagManager=new ie(A["a"].tag)}}w["a"];class fe extends f["a"]{constructor(){super(...arguments),this.unPattern="/${schema.snakeCase}",this.suffix="",this.operation=new me("get"),this.parameterManager=new ie(A["a"].parameters)}}class we extends w["a"]{constructor(){super(fe)}}class Me extends P["a"]{constructor(){super(...arguments),this.tag="",this.value=""}}class ye extends w["a"]{constructor(){super(Me),this.list=[]}}class xe extends f["a"]{constructor(){super(...arguments),this.description="",this.version=1,this.propertyManager=new ye}}class Oe extends w["a"]{constructor(){super(xe),this.list=[]}}class Ie extends f["a"]{constructor(){super(...arguments),this.code="function run(data) {\n    /** @type {DataForScript} */\n    const dd = data\n}",this.description="",this.requireLayer=!1,this.requireSchema=!1}}class be extends w["a"]{constructor(){super(Ie),this.list=[]}}class Pe extends f["a"]{constructor(){super(...arguments),this.code="",this.description=""}}class ve extends w["a"]{constructor(){super(Pe),this.list=[]}}const Ae=2;class je extends d["a"]{constructor(){super(...arguments),this.version=Ae,this.flowManager=new we,this.presetManager=new Oe,this.scriptManager=new be,this.templateManager=new ve,this.oapi=new ae}getPreset(e){return this.presetManager.findByUN(e)}}var ke=r("09dd");class Te{constructor(e){this.project=e}makeSchemaField(e,t){const r=this.project.oapi.fieldManager.make(e);return this.project.oapi.fieldManager.add(r),r.schemaUI=t.ui,r}}class Se{constructor(e,t){this.fieldManager=e,this.schemaManager=t}getFieldList(e){const t=new Set;return this.getReferenceList(e,t),this.fieldManager.list.filter(e=>t.has(e.schemaUI))}getReferenceList(e,t){if(e.isTemplate)return;if(t.has(e.ui))return;t.add(e.ui);const r=new Set(e.referenceManager.list.map(e=>e.ui));this.schemaManager.list.forEach(e=>{r.has(e.ui)&&this.getReferenceList(e,t)})}}class Ee{constructor(e){this.project=e,this.schemaFieldFinder=new Se(e.oapi.fieldManager,e.oapi.component.schemaManager)}find(e){return this.findByUI(e.ui,e.type)}findByUI(e,t){const r=this.findManager(t);return r.find(e)}getManager(e){switch(e){case A["a"].encoding:return this.project.oapi.encodingManager;case A["a"].enumer:return this.project.oapi.enumerManager;case A["a"].examples:return this.project.oapi.component.exampleManager;case A["a"].field:return this.project.oapi.fieldManager;case A["a"].flow:return this.project.flowManager;case A["a"].headers:return this.project.oapi.component.headerManager;case A["a"].parameters:return this.project.oapi.component.parameterManager;case A["a"].paths:return this.project.oapi.pathManager;case A["a"].requestBodies:return this.project.oapi.component.requestBodyManager;case A["a"].responses:return this.project.oapi.component.responseManager;case A["a"].schemas:return this.project.oapi.component.schemaManager;case A["a"].scope:return this.project.oapi.scopeManager;case A["a"].script:return this.project.scriptManager;case A["a"].security:return this.project.oapi.component.securitySchemeManager;case A["a"].tag:return this.project.oapi.tagManager;case A["a"].variable:return this.project.oapi.serverVariableManager;default:break}throw new Error("Unknown TargetType: "+e)}findManager(e){return this.getManager(e)}getSchemaFieldList(e){return this.schemaFieldFinder.getFieldList(e)}}class Ue{constructor(e,t,r){this.worker=t,this.emitter=r,this.sbManager=new ke["b"],this._data=e,this._preset=new je,this._project=this._preset}createProject(){const e=new je;e.load(this.data),this.project=e}get data(){return this._data}setData(e){this._data=e,this._preset=new je,this._preset.load(e),this._project=this._preset}get preset(){return this._preset}get project(){return this._project}set project(e){this._project=e,this.sbManager.bind(this.project),this.emitter.emit(l["a"].ready)}get callbackManager(){return this.project.oapi.component.callbackManager}get encodingManager(){return this.project.oapi.encodingManager}get enumerManager(){return this.project.oapi.enumerManager}get exampleManager(){return this.project.oapi.component.exampleManager}get factory(){return new Te(this.project)}get fieldManager(){return this.project.oapi.fieldManager}get finder(){return new Ee(this.project)}get headerManager(){return this.project.oapi.component.headerManager}get parameterManager(){return this.project.oapi.component.parameterManager}get pathManager(){return this.project.oapi.pathManager}get requestBodyManager(){return this.project.oapi.component.requestBodyManager}get responseManager(){return this.project.oapi.component.responseManager}get schemaManager(){return this.project.oapi.component.schemaManager}get scopeManager(){return this.project.oapi.scopeManager}get securityRequirementManager(){return this.project.oapi.securityManager}get securitySchemeManager(){return this.project.oapi.component.securitySchemeManager}get serverManager(){return this.project.oapi.serverManager}get serverVariableManager(){return this.project.oapi.serverVariableManager}get tagManager(){return this.project.oapi.tagManager}}var qe=r("094b");const Ne=1;class _e{static run(e,t){if(!this.isProject(e))throw new Error("Unknown data!");const r=e.version,s=`Cannot load version ${r} project!`;if(r<Ne)throw new Error(s);const a=new je;if(r>a.version)throw new Error(s);const n=this.loadPreset(e,t);return a.load(n),a}static loadPreset(e,t){const r=new je;return e.version=r.version,r.load(e),this.addIfNotExist(r.presetManager,t.presetManager),this.addIfNotExist(r.scriptManager,t.scriptManager),r}static addIfNotExist(e,t){t.list.forEach(t=>{void 0===e.findByUN(t.un)&&e.add(t)})}static isProject(e){const t=Object.keys(e),r=["version","oapi","presetManager","scriptManager"];return r.every(e=>t.includes(e))}}class Fe{constructor(e,t,r,s,a){this.action=e,this.key=t,this.data=r,this.message=s,this.status=a}}const $e=qe["a"].getOAPIPath("backup"),Be=qe["a"].getOAPIPath("data.json");class Re{static run(e,t,r){if(null===t)return;const s=JSON.stringify(t);s!==this.last?(this.last=s,e.move(Be,this.makeName()),e.write(Be,s,r)):r&&r(this.fake)}static makeName(){const e=(new Date).toISOString().substr(0,19).replace("T"," ").replace(":",".").replace(":",".");return $e+"/data."+e+".json"}}Re.last="",Re.fake=new Fe(s.write,Be,"","Nothing changed",c.OK);class Ce{static run(e,t,r){const a=new o,n=new p(r,a),i=new qe["a"](n),u=new Ue(e,n,t);return r.worker=new h(a),a.add(s.error,"*",e=>{alert(e.message)}),a.add(s.load,"project",e=>{let t=!0;if(e.status===c.OK&&e.data)try{const r=JSON.parse(e.data);u.project=_e.run(r,u.preset),Re.last=e.data,t=!1}catch(r){alert(r)}t&&u.createProject(),i.saveDTS()}),a.add(s.save,"project",e=>{e.status===c.OK&&Re.run(i,u.project)}),u}}var Le=r("3a0b");const De=Ce.run(a,n["a"],window);fetch("data.json").then(e=>e.json()).then(e=>{De.setData(e),Object(Le["b"])()}).catch(e=>alert(e));t["a"]=De},"95fd":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var s=r("9ab4"),a=r("e4b0"),n=r("11ef"),i=r("2073");class o extends i["a"]{constructor(){super(...arguments),this.color=n["b"].none,this.description=""}}Object(s["a"])([a["b"]],o.prototype,"color",void 0)},"9ab4":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));function s(e,t,r,s){var a,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(n<3?a(i):n>3?a(t,r,i):a(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i}},a5cb:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));class s{load(e){}}},a957:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var s=r("04ff"),a=r("de50");class n extends s["a"]{constructor(e,t){super(),this.type=t,this.ui=e}get ui(){return this._ui}set ui(e){this._ui=e}getTarget(e){return e.find(this)}getText(e){const t=this.getTarget(e);return void 0===t?"?":this.getTextOfTarget(t)}getTextOfTarget(e){if("paths"===this.type){const t=e.un.split("/").join("~1");return`#/${this.type}/${t}`}return`#/components/${this.type}/${e.un}`}toOAPI(e){return this.toOAPIofTarget(this.getTarget(e))}toOAPIofTarget(e){return void 0===e?{$ref:"?"}:{$ref:this.getTextOfTarget(e)}}}class i extends a["a"]{constructor(e){super(n),this.targetType=e}add(e){this.throwIfFind(e.ui),this.list.push(e)}getTargetxx(e){if(0===this.list.length)return[];const t=e.findManager(this.targetType),r=new Set(this.list.map(e=>e.ui));return t.list.filter(e=>r.has(e.ui))}getUNxx(e){return this.getTargetxx(e).map(e=>e.un)}loadItem(e){return this.make(e.ui)}make(e){const t=new this.type(e,this.targetType);return t}toOAPI(e){const t=this.getTargetxx(e),r={};return this.list.forEach(e=>{const s=t.find(t=>t.ui===e.ui);s&&(r[s.un]=e.toOAPIofTarget(s))}),r}toOAPIArray(e){const t=this.getTargetxx(e);return this.list.map(e=>{const r=t.find(t=>t.ui===e.ui);return e.toOAPIofTarget(r)})}}},b31b:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return h}));var s,a=r("95fd"),n=r("e1dd"),i=r("ca51"),o=r("c52f");(function(e){e["apiKey"]="apiKey",e["http"]="http",e["oauth2"]="oauth2",e["openIdConnect"]="openIdConnect"})(s||(s={}));class c extends a["a"]{constructor(e,t=o["a"].header){super(e),this.type=s.http,this.name="",this.scheme="bearer",this.bearerFormat="JWT",this.openIdConnectUrl="",this.oAuthFlowManager=new i["a"],this.name=e,this.location=t}toOAPI(e){const t={type:this.type,description:this.description};return this.type===s.openIdConnect?(t.openIdConnectUrl=this.openIdConnectUrl,t):this.type===s.apiKey?(t.name=this.name,t.in=this.location,t):this.type===s.http?(t.scheme=this.scheme,t.bearerFormat=this.bearerFormat,t):(t.flows=this.oAuthFlowManager.toOAPI(e),t)}}class h extends n["a"]{constructor(){super(c)}}},c52f:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var s,a=r("95fd"),n=r("e1dd"),i=r("d0af");(function(e){e["cookie"]="cookie",e["header"]="header",e["path"]="path",e["query"]="query"})(s||(s={}));class o extends a["a"]{constructor(e,t=s.cookie){super(e),this.allowEmptyValue=!1,this.deprecated=!1,this.description="",this.example="",this.name="",this.required=!0,this.schema=new i["b"](this.un),this.name=e,this.location=t}toOAPI(e){const t={allowEmptyValue:this.allowEmptyValue,deprecated:this.deprecated,description:this.description,required:this.required,schema:this.schema.toOAPI(e)};return this.example&&(t.example=this.example),this.location===s.header||(t.name=this.name,t.in=this.location),t}}class c extends n["a"]{constructor(e){super(o),this.location=e}make(e){const t=new o(e,this.location);return t}}},c798:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("a957"),a=r("3c0c");class n extends s["a"]{constructor(){super(a["a"].security)}toOAPIofTarget(e,t){const r=new Set;return t.oAuthFlowManager.list.forEach(t=>{t.scopeManager.getTargetxx(e).forEach(e=>r.add(e.un))}),{[t.un]:Array.from(r.values())}}toOAPIArray(e){const t=new Set(this.list.map(e=>e.ui)),r=[],s=e.findManager(a["a"].security).list;return s.forEach(s=>{t.has(s.ui)&&r.push(this.toOAPIofTarget(e,s))}),r}}},ca51:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var s,a=r("2073"),n=r("e1dd"),i=r("a957"),o=r("3c0c");(function(e){e["authorizationCode"]="authorizationCode",e["clientCredentials"]="clientCredentials",e["implicit"]="implicit",e["password"]="password"})(s||(s={}));class c extends a["a"]{constructor(){super(...arguments),this.authorizationUrl="",this.refreshUrl="",this.tokenUrl="",this.scopeManager=new i["a"](o["a"].scope)}get hasAuthorization(){return this.un===s.implicit||this.un===s.authorizationCode}get hasToken(){return this.un!==s.implicit}toOAPI(e){const t=this.scopeManager.getTargetxx(e),r={};t.forEach(e=>r[e.un]=e.description);const s={refreshUrl:this.refreshUrl,scopes:r};return this.hasAuthorization&&(s.authorizationUrl=this.authorizationUrl),this.hasToken&&(s.tokenUrl=this.tokenUrl),s}}class h extends n["a"]{constructor(){super(c)}addToAll(e){if(this.list.length){const t=this.list[0].scopeManager.make(e);this.list.forEach(e=>e.scopeManager.add(t))}}}},d0af:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return h}));var s=r("2073"),a=r("e1dd"),n=r("da4b"),i=r("a957"),o=r("3c0c");class c extends s["a"]{constructor(){super(...arguments),this.description="",this.format="",this.isArray=!1,this.readOnly=!1,this.required=!0,this.schemaUI=0,this._type=n["b"].string,this.writeOnly=!1,this.reference=new i["b"](0,o["a"].schemas)}get isEnumer(){return this.type===n["b"].enumer}get isObject(){return this.type===n["b"].object}get isReference(){return this.isEnumer||this.isObject||this.type===n["b"].reference}get type(){return this._type}set type(e){this._type=e,e===n["b"].enumer?this.reference.type=o["a"].enumer:e===n["b"].object?this.reference.type=o["a"].encoding:e===n["b"].reference&&(this.reference.type=o["a"].schemas)}refer(e){this.type=n["b"].reference,this.reference.ui=e}makeData(e){if(this.isEnumer){const t=this.reference.getTarget(e);if(void 0===t)throw new Error(`Enumer ${this.reference.ui} not found`);return t.toOAPI()}if(this.isObject)return{};if(this.type===n["b"].reference)return this.reference.toOAPI(e);const t={type:this.type};return this.format&&(t.format=this.format),this.readOnly&&(t.readOnly=this.readOnly),this.writeOnly&&(t.writeOnly=this.writeOnly),t}toOAPI(e){const t=this.makeData(e);return this.isArray?{type:"array",items:t}:t}}class h extends a["a"]{constructor(e=!0){super(c,e)}changeUN(e,t){if(e.un===t)return;const r=this.list.find(r=>r.schemaUI===e.schemaUI&&r.un===t);if(r)throw new Error(`Field ${t} already exists!`);e.un=t}findAllField(e){return this.list.filter(t=>t.schemaUI===e)}findField(e,t){return this.list.find(r=>r.schemaUI===e&&r.un===t)}throwIfNotUnique(e){if(this.findField(e.schemaUI,e.un))throw new Error(`Field ${e.un} already exists!`)}}},da4b:function(e,t,r){"use strict";var s;r.d(t,"a",(function(){return a})),function(e){e["boolean"]="boolean",e["enumer"]="enumer",e["integer"]="integer",e["number"]="number",e["object"]="object",e["reference"]="reference",e["string"]="string"}(s||(s={}));const a=Object.values(s);t["b"]=s},de50:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var s=r("a5cb");class a extends s["a"]{constructor(){super(...arguments),this.list=[]}add(e){this.list.push(e)}remove(e){const t=this.list.indexOf(e);t>=0&&this.list.splice(t,1)}clear(){this.list.splice(0,this.list.length)}moveUp(e){if(Object.is(e,this.list[0]))return;const t=this.list.indexOf(e);this.swap(t,t-1)}moveDown(e){const t=this.list.length-1;if(Object.is(e,this.list[t]))return;const r=this.list.indexOf(e);this.swap(r,r+1)}swap(e,t){const r=this.list[e];this.list[e]=this.list[t],this.list[t]=r,this.list.splice(0,0)}}class n extends a{constructor(e){super(),this.type=e}load(e){this.loadList(e.list)}loadList(e){e.forEach(e=>this.loadItem(e))}loadItem(e){const t=this.make();t.load(e),this.list.push(t)}make(...e){return new this.type(...e)}toJSON(){return{list:this.list}}toOAPIArray(...e){return this.list.map(e=>e.toOAPI())}}class i extends n{constructor(){super(...arguments),this._nextUI=1}get nextUI(){return this._nextUI}add(e){this.throwIfFind(e.ui),super.add(e),e.ui=this._nextUI,this._nextUI+=1}find(e){return this.list.find(t=>t.ui===e)}findAll(e){const t=new Set(e);return this.list.filter(e=>t.has(e.ui))}findOrMakeAdd(e){let t=this.find(e);return void 0===t&&(t=this.make(e),this.add(t)),t}has(e){return void 0!==this.find(e)}load(e){var t;e.list.forEach(e=>{const t=this.loadItem(e);t.load(e),0===t.ui?this.add(t):this.list.push(t)}),this._nextUI=null!==(t=e.nextUI)&&void 0!==t?t:this._nextUI}loadItem(e){return this.make()}remove(e){const t=this.list.findIndex(t=>t.ui===e.ui);t>=0&&this.list.splice(t,1)}throwIfFind(e){if(this.find(e))throw new Error(this.type.name+" already exists!")}get uixx(){return this.list.map(e=>e.ui)}}},e1dd:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r("62fb"),a=r("de50");class n extends a["a"]{constructor(e,t=!0){super(e),this.unique=t}add(e){this.throwIfNotUnique(e),super.add(e)}static arrayToOAPI(e,t){const r={};return e.forEach(e=>r[e.un]=e.toOAPI(t)),r}arrayToOAPI(e,t){return n.arrayToOAPI(e,t)}changeUN(e,t){e.un!==t&&(this.unique&&this.throwIfFindUN(t),e.un=t)}filter(e){return Object(s["b"])(e,this.list)}findByUN(e){return this.list.find(t=>t.un===e)}findByUNOrMakeAdd(e){let t=this.findByUN(e);return void 0===t&&(t=this.make(e),this.add(t)),t}hasSame(e,t){const r=this.list.find(r=>r.ui===e&&r.un===t);return void 0!==r}hasUN(e){return void 0!==this.findByUN(e)}loadItem(e){return this.make(e.un)}make(e){const t=new this.type(e);return t}sort(e=!0){e?this.list.sort((e,t)=>e.un.localeCompare(t.un)):this.list.sort((e,t)=>t.un.localeCompare(e.un))}throwIfFindUN(e){if(this.findByUN(e))throw new Error(`${this.type.name} ${e} already exists!`)}throwIfNotUnique(e){!1!==this.unique&&this.throwIfFindUN(e.un)}toJSON(){return{nextUI:this._nextUI,list:this.list}}toOAPI(e){return this.arrayToOAPI(this.list,e)}get unxx(){return this.list.map(e=>e.un)}}},e4b0:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"g",(function(){return p})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return g})),r.d(t,"e",(function(){return m})),r.d(t,"f",(function(){return f}));const s=new Map,a=new Map,n=new Map,i=new Map;function o(e,t){let r=[],s=e;while(s){const e=Object.getPrototypeOf(s);if(e===Object)break;s=e;const a=t.get(s);a&&(r=r.concat(a))}return r}function c(e,t){let r=t.get(e);return void 0===r&&(r=o(e,t),t.set(e,r)),r}function h(e,t,r){let s=r.get(e);void 0===s&&(s=o(e,r),r.set(e,s)),s.push(t)}const u=(e,t)=>{h(e.constructor,t,s)},p=(e,t)=>{h(e.constructor,t,a)},l=e=>c(e,s),d=e=>c(e,a),g=(e,t)=>{h(e.constructor,t,n)},m=e=>c(e,n),f=e=>c(e,i)},e9dc:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return g}));var s=r("3b8f"),a=r("95fd"),n=r("e1dd"),i=r("3fe0"),o=r("1cb6"),c=r("3c0c");class h extends i["a"]{constructor(){super(...arguments),this.propertyName="",this.referenceManager=new o["a"](c["a"].schemas)}makeMapping(e){const t=new Map;this.referenceManager.list.map(e=>t.set(e.ui,e));const r=this.referenceManager.list.map(e=>e.ui),s=e.findManager(this.referenceManager.targetType).findAll(r),a={};return s.forEach(e=>{var r,s;a[e.un]=null!==(s=null===(r=t.get(e.ui))||void 0===r?void 0:r.reference.getTextOfTarget(e))&&void 0!==s?s:"?"}),a}toOAPI(e){const t={propertyName:this.propertyName,mapping:this.makeMapping(e)};return t}}var u,p=r("a957");(function(e){e["allOf"]="allOf",e["anyOf"]="anyOf",e["multipleOf"]="multipleOf",e["oneOf"]="oneOf"})(u||(u={}));const l=Object.values(u);class d extends a["a"]{constructor(){super(...arguments),this.compositionType=u.allOf,this.isTemplate=!1,this.discriminator=new h,this.example=new s["a"],this.excludedManager=new p["a"](c["a"].field),this.flowManager=new p["a"](c["a"].flow),this.referenceManager=new p["a"](c["a"].schemas),this.requiredManager=new p["a"](c["a"].field),this.text=new s["a"]}get isComposition(){return!1===this.isTemplate}makeOAPI(e,t,r){if(0===r.length)return{};const s={type:"object",description:this.description,properties:t.arrayToOAPI(r,e)},a=r.filter(e=>e.required).map(e=>e.un);return a.length&&(s.required=a),"{}"===this.example.text||(s.example=this.example.toOAPI()),s}toOAPI(e){if(this.isTemplate)return this.text.toOAPI();const t=e.findManager(c["a"].field);if(this.excludedManager.list.length){const r=new Set(this.excludedManager.list.map(e=>e.ui)),s=e.getSchemaFieldList(this).filter(e=>!1===r.has(e.ui));return this.makeOAPI(e,t,s)}const r=t.findAllField(this.ui);if(this.referenceManager.list.length){const s=this.referenceManager.toOAPIArray(e),a={description:this.description,[this.compositionType]:s};return this.discriminator.propertyName&&(a.discriminator=this.discriminator.toOAPI(e)),this.requiredManager.list.length&&(a.required=this.requiredManager.getUNxx(e)),r.length&&s.push(this.makeOAPI(e,t,r)),a}return this.makeOAPI(e,t,r)}}class g extends n["a"]{constructor(){super(d)}}},ed21:function(e){e.exports=JSON.parse('{"version":2,"presetManager":{"list":[]},"scriptManager":{"list":[]},"oapi":{}}')}}]);